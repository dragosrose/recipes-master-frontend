<ng-container class="spinner-container" *ngIf="isLoading">
  <mat-spinner class="loading-spinner"></mat-spinner>
</ng-container>

<ng-container *ngIf="!isLoading">
  <form [formGroup]="recipeForm">
    <mat-form-field class="mat-form-field" appearance="outline">
      <mat-label class="mat-label">Title</mat-label>
      <input matInput type="text" formControlName="title" required />
      <mat-error
        class="mat-error"
        *ngIf="recipeForm.get('title')!.hasError('required')"
      >
        Title is required
      </mat-error>
    </mat-form-field>

    <mat-form-field class="mat-form-field" appearance="outline">
      <mat-label class="mat-label">Description</mat-label>
      <input matInput type="text" formControlName="description" required />
      <mat-error
        class="mat-error"
        *ngIf="recipeForm.get('description')!.hasError('required')"
      >
        Description is required
      </mat-error>
    </mat-form-field>

    <div class="form-field">
      <mat-label class="mat-label">Image</mat-label>
      <input
        multiple
        type="file"
        formControlName="imagePath"
        required
        (change)="onImageSelected($event)"
      />
      <mat-error
        class="mat-error"
        *ngIf="recipeForm.get('imagePath')!.hasError('required')"
      >
        Image is required
      </mat-error>
    </div>

    <mat-form-field class="mat-form-field" appearance="outline">
      <mat-label class="mat-label">Ingredients</mat-label>
      <input matInput type="text" formControlName="ingredients" required />
      <mat-error
        class="mat-error"
        *ngIf="recipeForm.get('ingredients')!.hasError('required')"
      >
        Ingredients are required
      </mat-error>
    </mat-form-field>

    <mat-form-field class="mat-form-field" appearance="outline">
      <mat-label class="mat-label">Instructions</mat-label>
      <input matInput type="text" formControlName="instructions" required />
      <mat-error
        class="mat-error"
        *ngIf="recipeForm.get('instructions')!.hasError('required')"
      >
        Instructions are required
      </mat-error>
    </mat-form-field>

    <div class="form-actions">
      <button mat-button (click)="addRecipe()" type="submit">
        Create Recipe
      </button>
    </div>
  </form>
</ng-container>
